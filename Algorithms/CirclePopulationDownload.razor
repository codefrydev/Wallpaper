@page "/download/CirclePopulation"

@if (circlePopulationRef is not null)
{
    <MudPaper Class="d-flex justify-center flex-grow-1 gap-4" Style="background-color:#e5e9f4;" Elevation="0">

        <MudPaper Elevation="0" MaxWidth="600px" Style="background-color:#e5e9f4;">
            <MudNumericField @bind-Value="@maxRadius"
                             Label="Max Raius Of Circle"
                             Variant="Variant.Outlined"
                             Min="1"
                             Max="100000"
                             Step="1" />
            <MudNumericField @bind-Value="@minRadius"
                             Label="Min Raius Of Circle"
                             Variant="Variant.Outlined"
                             Min="1"
                             Max="100000"
                             Step="1" />
            <MudNumericField @bind-Value="@width"
                             Label="Width Of Image"
                             Variant="Variant.Outlined"
                             Min="1"
                             Max="100000"
                             Step="1" />

            <MudNumericField @bind-Value="@height"
                             Label="height Of Image"
                             Variant="Variant.Outlined"
                             Min="1"
                             Max="100000"
                             Step="1" />

            <MudNumericField @bind-Value="@totalCircle"
                             Label="Number Of Circle"
                             Variant="Variant.Outlined"
                             Min="1"
                             Max="100000"
                             Step="1" />

            <MudNumericField @bind-Value="@numberOfAttempts"
                             Label="Number of Attempts"
                             Variant="Variant.Outlined"
                             Min="1"
                             Max="100000"
                             Step="1" />
        </MudPaper>
    </MudPaper>
    <MudContainer Class="center-container">
        <MudStack>

            <MudItem>
                <MudButton OnClick="Recalculate" FullWidth=true Color="Color.Primary">Generate Again</MudButton>
            </MudItem>
            <MudItem>
                <MudButton OnClick="DownloadImage" FullWidth=true Color="Color.Success">Download</MudButton>
            </MudItem>
            <MudItem>

                <SKCanvasView @ref="circlePopulationRef.CanvasReference"
                              OnPaintSurface="@circlePopulationRef.OnPaintSurface"
                              style="@($"height: {circlePopulationRef.Height}px; width: {circlePopulationRef.Width}px;")"
                              id="@circlePopulationRef.Id" IgnorePixelScaling=true />
            </MudItem>
        </MudStack>
    </MudContainer>
}
else
{
    <MudText Typo="Typo.subtitle1">Something is not right/ Or Developer Has Not created Page for this url</MudText>
}

<style>
    .center-container {
        display: flex;
        justify-content: center;
        align-items: center;
    }
</style>